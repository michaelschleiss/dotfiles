#!/usr/bin/env bash
set -euo pipefail
# general libs

# --- helpers ---

# install a package via brew (mac) or apt (linux)
# usage: install <name> [linux-name-if-different]
install() {
  echo "Installing $1..."
  case "$(uname -s)" in
    Darwin) brew install "$1" ;;
    Linux)  sudo apt-get install -qqq -y "${2:-$1}" ;;
  esac
}

# --- main ---

install ripgrep
install fd fd-find
install fzf
install bat

# On Ubuntu, bat binary is called 'batcat' - create symlink
if [[ "$(uname -s)" == "Linux" ]] && command -v batcat &>/dev/null && ! command -v bat &>/dev/null; then
  mkdir -p ~/.local/bin
  ln -sf "$(which batcat)" ~/.local/bin/bat
fi
